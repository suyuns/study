### 9.作用域和内存

***

 	**js编译是在浏览器（解释器）中进行的**

 	**当在同一作用域申明了同名的变量和函数时，函数会覆盖变量**





#### 作用域和作用域链

***

- **词法语法分析（创建作用域）--代码生成--代码执行（创建作用域链）**

- 

- ##### 作用域

  - 在js解释器编译时，将当前的函数和变量进行保存，并且限定其使用范围
  - **作用域可以相互嵌套，但不能重叠**
  -  **js中只有函数作用域，没有块级作用域**（每次进入函数时，才会触发编译，生成作用域）

- ##### 作用域链

  -  在编译完成之后，函数运行时，将作用域连接起来；
  - 函数和变量的访问时，按作用域链进行访问
  - **函数和变量的搜索，是按作用域链逐级向上搜索，只能搜索父级作用域**



##### 自己设置作用域

***

- 问题：破坏了解释器作用域规则，解释器不会对其进行优化
- with
- 





#### 执行环境

***

- **执行环境决定了变量的生命周期**，执行环境中的所有代码执行完毕，该环境被销毁，环境中的变量和函数定义也被销毁

- ##### 全局执行环境

- ##### 函数执行环境





#### 垃圾回收机制

***

- ##### 标记清除（常用）

- ##### 引用计数

- ##### 手动管理内存

   	解除引用：将不用的变量设置为null